define(["./core","./var/rnotwhite"],function(e,t){function n(n){var r=i[n]={};return e.each(n.match(t)||[],function(e,t){r[t]=!0}),r}var i={};return e.Callbacks=function(t){t="string"==typeof t?i[t]||n(t):e.extend({},t);var r,o,s,a,c,l,u=[],d=!t.once&&[],f=function(e){for(r=t.memory&&e,o=!0,l=a||0,a=0,c=u.length,s=!0;u&&c>l;l++)if(u[l].apply(e[0],e[1])===!1&&t.stopOnFalse){r=!1;break}s=!1,u&&(d?d.length&&f(d.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var n=u.length;!function i(n){e.each(n,function(n,r){var o=e.type(r);"function"===o?t.unique&&p.has(r)||u.push(r):r&&r.length&&"string"!==o&&i(r)})}(arguments),s?c=u.length:r&&(a=n,f(r))}return this},remove:function(){return u&&e.each(arguments,function(t,n){for(var i;(i=e.inArray(n,u,i))>-1;)u.splice(i,1),s&&(c>=i&&c--,l>=i&&l--)}),this},has:function(t){return t?e.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],c=0,this},disable:function(){return u=d=r=void 0,this},disabled:function(){return!u},lock:function(){return d=void 0,r||p.disable(),this},locked:function(){return!d},fireWith:function(e,t){return!u||o&&!d||(t=t||[],t=[e,t.slice?t.slice():t],s?d.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!o}};return p},e});