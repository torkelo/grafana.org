define(["./core","./var/pnum","./css/var/cssExpand","./css/var/isHidden","./css/defaultDisplay","./data/var/data_priv","./core/init","./effects/Tween","./queue","./css","./deferred","./traversing"],function(t,e,n,i,r,o){function s(){return setTimeout(function(){f=void 0}),f=t.now()}function a(t,e){var i,r=0,o={height:t};for(e=e?1:0;4>r;r+=2-e)i=n[r],o["margin"+i]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function c(t,e,n){for(var i,r=(y[e]||[]).concat(y["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function l(e,n,s){var a,l,u,d,f,p,m,g,v=this,y={},b=e.style,_=e.nodeType&&i(e),x=o.get(e,"fxshow");s.queue||(f=t._queueHooks(e,"fx"),null==f.unqueued&&(f.unqueued=0,p=f.empty.fire,f.empty.fire=function(){f.unqueued||p()}),f.unqueued++,v.always(function(){v.always(function(){f.unqueued--,t.queue(e,"fx").length||f.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(s.overflow=[b.overflow,b.overflowX,b.overflowY],m=t.css(e,"display"),g="none"===m?o.get(e,"olddisplay")||r(e.nodeName):m,"inline"===g&&"none"===t.css(e,"float")&&(b.display="inline-block")),s.overflow&&(b.overflow="hidden",v.always(function(){b.overflow=s.overflow[0],b.overflowX=s.overflow[1],b.overflowY=s.overflow[2]}));for(a in n)if(l=n[a],h.exec(l)){if(delete n[a],u=u||"toggle"===l,l===(_?"hide":"show")){if("show"!==l||!x||void 0===x[a])continue;_=!0}y[a]=x&&x[a]||t.style(e,a)}else m=void 0;if(t.isEmptyObject(y))"inline"===("none"===m?r(e.nodeName):m)&&(b.display=m);else{x?"hidden"in x&&(_=x.hidden):x=o.access(e,"fxshow",{}),u&&(x.hidden=!_),_?t(e).show():v.done(function(){t(e).hide()}),v.done(function(){var n;o.remove(e,"fxshow");for(n in y)t.style(e,n,y[n])});for(a in y)d=c(_?x[a]:0,a,v),a in x||(x[a]=d.start,_&&(d.end=d.start,d.start="width"===a||"height"===a?1:0))}}function u(e,n){var i,r,o,s,a;for(i in e)if(r=t.camelCase(i),o=n[r],s=e[i],t.isArray(s)&&(o=s[1],s=e[i]=s[0]),i!==r&&(e[r]=s,delete e[i]),a=t.cssHooks[r],a&&"expand"in a){s=a.expand(s),delete e[r];for(i in s)i in e||(e[i]=s[i],n[i]=o)}else n[r]=o}function d(e,n,i){var r,o,a=0,l=v.length,d=t.Deferred().always(function(){delete p.elem}),p=function(){if(o)return!1;for(var t=f||s(),n=Math.max(0,h.startTime+h.duration-t),i=n/h.duration||0,r=1-i,a=0,c=h.tweens.length;c>a;a++)h.tweens[a].run(r);return d.notifyWith(e,[h,r,n]),1>r&&c?n:(d.resolveWith(e,[h]),!1)},h=d.promise({elem:e,props:t.extend({},n),opts:t.extend(!0,{specialEasing:{}},i),originalProperties:n,originalOptions:i,startTime:f||s(),duration:i.duration,tweens:[],createTween:function(n,i){var r=t.Tween(e,h.opts,n,i,h.opts.specialEasing[n]||h.opts.easing);return h.tweens.push(r),r},stop:function(t){var n=0,i=t?h.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)h.tweens[n].run(1);return t?d.resolveWith(e,[h,t]):d.rejectWith(e,[h,t]),this}}),m=h.props;for(u(m,h.opts.specialEasing);l>a;a++)if(r=v[a].call(h,e,m,h.opts))return r;return t.map(m,c,h),t.isFunction(h.opts.start)&&h.opts.start.call(e,h),t.fx.timer(t.extend(p,{elem:e,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}var f,p,h=/^(?:toggle|show|hide)$/,m=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),g=/queueHooks$/,v=[l],y={"*":[function(e,n){var i=this.createTween(e,n),r=i.cur(),o=m.exec(n),s=o&&o[3]||(t.cssNumber[e]?"":"px"),a=(t.cssNumber[e]||"px"!==s&&+r)&&m.exec(t.css(i.elem,e)),c=1,l=20;if(a&&a[3]!==s){s=s||a[3],o=o||[],a=+r||1;do c=c||".5",a/=c,t.style(i.elem,e,a+s);while(c!==(c=i.cur()/r)&&1!==c&&--l)}return o&&(a=i.start=+a||+r||0,i.unit=s,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};return t.Animation=t.extend(d,{tweener:function(e,n){t.isFunction(e)?(n=e,e=["*"]):e=e.split(" ");for(var i,r=0,o=e.length;o>r;r++)i=e[r],y[i]=y[i]||[],y[i].unshift(n)},prefilter:function(t,e){e?v.unshift(t):v.push(t)}}),t.speed=function(e,n,i){var r=e&&"object"==typeof e?t.extend({},e):{complete:i||!i&&n||t.isFunction(e)&&e,duration:e,easing:i&&n||n&&!t.isFunction(n)&&n};return r.duration=t.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in t.fx.speeds?t.fx.speeds[r.duration]:t.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){t.isFunction(r.old)&&r.old.call(this),r.queue&&t.dequeue(this,r.queue)},r},t.fn.extend({fadeTo:function(t,e,n,r){return this.filter(i).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(e,n,i,r){var s=t.isEmptyObject(e),a=t.speed(n,i,r),c=function(){var n=d(this,t.extend({},e),a);(s||o.get(this,"finish"))&&n.stop(!0)};return c.finish=c,s||a.queue===!1?this.each(c):this.queue(a.queue,c)},stop:function(e,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof e&&(i=n,n=e,e=void 0),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var n=!0,s=null!=e&&e+"queueHooks",a=t.timers,c=o.get(this);if(s)c[s]&&c[s].stop&&r(c[s]);else for(s in c)c[s]&&c[s].stop&&g.test(s)&&r(c[s]);for(s=a.length;s--;)a[s].elem!==this||null!=e&&a[s].queue!==e||(a[s].anim.stop(i),n=!1,a.splice(s,1));(n||!i)&&t.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var n,i=o.get(this),r=i[e+"queue"],s=i[e+"queueHooks"],a=t.timers,c=r?r.length:0;for(i.finish=!0,t.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),n=a.length;n--;)a[n].elem===this&&a[n].queue===e&&(a[n].anim.stop(!0),a.splice(n,1));for(n=0;c>n;n++)r[n]&&r[n].finish&&r[n].finish.call(this);delete i.finish})}}),t.each(["toggle","show","hide"],function(e,n){var i=t.fn[n];t.fn[n]=function(t,e,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(a(n,!0),t,e,r)}}),t.each({slideDown:a("show"),slideUp:a("hide"),slideToggle:a("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){t.fn[e]=function(t,e,i){return this.animate(n,t,e,i)}}),t.timers=[],t.fx.tick=function(){var e,n=0,i=t.timers;for(f=t.now();n<i.length;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||t.fx.stop(),f=void 0},t.fx.timer=function(e){t.timers.push(e),e()?t.fx.start():t.timers.pop()},t.fx.interval=13,t.fx.start=function(){p||(p=setInterval(t.fx.tick,t.fx.interval))},t.fx.stop=function(){clearInterval(p),p=null},t.fx.speeds={slow:600,fast:200,_default:400},t});