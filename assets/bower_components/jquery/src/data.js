define(["./core","./var/rnotwhite","./core/access","./data/var/data_priv","./data/var/data_user"],function(t,e,n,r,i){function o(e,n,r){var o;if(void 0===r&&1===e.nodeType)if(o="data-"+n.replace(s,"-$1").toLowerCase(),r=e.getAttribute(o),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:a.test(r)?t.parseJSON(r):r}catch(u){}i.set(e,n,r)}else r=void 0;return r}var a=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,s=/([A-Z])/g;return t.extend({hasData:function(t){return i.hasData(t)||r.hasData(t)},data:function(t,e,n){return i.access(t,e,n)},removeData:function(t,e){i.remove(t,e)},_data:function(t,e,n){return r.access(t,e,n)},_removeData:function(t,e){r.remove(t,e)}}),t.fn.extend({data:function(e,a){var s,u,l,c=this[0],f=c&&c.attributes;if(void 0===e){if(this.length&&(l=i.get(c),1===c.nodeType&&!r.get(c,"hasDataAttrs"))){for(s=f.length;s--;)f[s]&&(u=f[s].name,0===u.indexOf("data-")&&(u=t.camelCase(u.slice(5)),o(c,u,l[u])));r.set(c,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each(function(){i.set(this,e)}):n(this,function(n){var r,a=t.camelCase(e);if(c&&void 0===n){if(r=i.get(c,e),void 0!==r)return r;if(r=i.get(c,a),void 0!==r)return r;if(r=o(c,a,void 0),void 0!==r)return r}else this.each(function(){var t=i.get(this,a);i.set(this,a,n),-1!==e.indexOf("-")&&void 0!==t&&i.set(this,e,n)})},null,a,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){i.remove(this,t)})}}),t});