describe("mq",function(){var e,t,n,r,i,o=window.matchMedia||function(){var e,t=document.documentElement,n=t.firstElementChild||t.firstChild,r=document.createElement("body"),i=document.createElement("div");return i.id="mq-test-1",i.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(i),function(o){return i.innerHTML='&shy;<style media="'+o+'"> #mq-test-1 { width: 42px; }</style>',t.insertBefore(r,n),e=42===i.offsetWidth,t.removeChild(r),{matches:e,media:o}}}();before(function(t){(i=requirejs.config({context:Math.random().toString().slice(2),baseUrl:"../src",paths:{sinon:"../test/js/lib/sinon",cleanup:"../test/cleanup"}}))(["injectElementWithStyles","cleanup","sinon"],function(i,o,a){e=i,n=o,r=a,t()})}),window.matchMedia||window.msMatchMedia?describe("matchMedia version",function(){before(function(e){i(["mq"],function(n){t=n,e()})}),it("works",function(){expect(t("only screen")).to.equal(o("only screen").matches),expect(t("only fake rule")).to.equal(o("only fake rule").matches)})}):describe("fallback version",function(){before(function(n){e=r.spy(e),i.undef("injectElementWithStyles"),i.undef("mq"),define("injectElementWithStyles",[],function(){return e}),i(["mq"],function(e){t=e,n()})}),it("works",function(){expect(t("only screen")).to.equal(o("only screen").matches),expect(t("only fake rule")).to.equal(o("only fake rule").matches),expect(e.called).to.be(!0)})}),afterEach(function(){i.undef("mq")}),after(function(){n()})});