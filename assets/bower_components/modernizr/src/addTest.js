define(["ModernizrProto","Modernizr","hasOwnProp","setClasses"],function(e,t,n,i){function r(e,o){if("object"==typeof e)for(var a in e)n(e,a)&&r(a,e[a]);else{e=e.toLowerCase();var s=e.split("."),c=t[s[0]];if(2==s.length&&(c=c[s[1]]),"undefined"!=typeof c)return t;o="function"==typeof o?o():o,1==s.length?t[s[0]]=o:(!t[s[0]]||t[s[0]]instanceof Boolean||(t[s[0]]=new Boolean(t[s[0]])),t[s[0]][s[1]]=o),i([(o&&0!=o?"":"no-")+s.join("-")]),t._trigger(e,o)}return t}return e._l={},e.on=function(e,n){this._l[e]||(this._l[e]=[]),this._l[e].push(n),t.hasOwnProperty(e)&&setTimeout(function(){t._trigger(e,t[e])},0)},e._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e,i;for(e=0;e<n.length;e++)(i=n[e])(t)},0),delete this._l[e]}},t._q.push(function(){e.addTest=r}),r});